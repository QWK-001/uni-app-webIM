{"version":3,"sources":["webpack:////Users/lr/Documents/work/webim-weixin-xcx-ectype_uni/main.js","webpack:////Users/lr/Documents/work/webim-weixin-xcx-ectype_uni/pages/main/main.vue?13e5","webpack:////Users/lr/Documents/work/webim-weixin-xcx-ectype_uni/pages/main/main.vue?f5a0","webpack:////Users/lr/Documents/work/webim-weixin-xcx-ectype_uni/pages/main/main.vue?41a3","webpack:////Users/lr/Documents/work/webim-weixin-xcx-ectype_uni/pages/main/main.vue?e53a","webpack:////Users/lr/Documents/work/webim-weixin-xcx-ectype_uni/pages/main/main.vue","webpack:////Users/lr/Documents/work/webim-weixin-xcx-ectype_uni/pages/main/main.vue?08fa","webpack:////Users/lr/Documents/work/webim-weixin-xcx-ectype_uni/pages/main/main.vue?2adb"],"names":["createPage","Page","WebIM","require","disp","systemReady","canPullDownreffesh","oHeight","data","search_btn","search_friend","show_mask","myName","member","messageNum","unReadSpotNum","unReadNoticeNum","unReadTotalNotNum","isActive","listMain","listTitles","fixedTitle","toView","scroolHeight","show_clear","isHideLoadMore","isIPX","gotop","input_code","showFixedTitile","components","swipeDelete","props","onLoad","option","me","app","getApp","globalData","ToastPannel","on","setData","saveFriendList","length","saveGroupInvitedList","message","pageStack","getCurrentPages","route","getRoster","unReadMessageNum","onShow","methods","rosters","success","roster","i","subscription","push","wx","setStorage","key","fire","getBrands","error","err","console","log","conn","moveFriend","type","removeRoster","to","from","unsubscribed","handleFriendMsg","showModal","title","content","res","confirm","subscribed","subscribe","fail","delete_friend","event","delName","currentTarget","dataset","username","getStorageSync","cancelText","confirmText","toastSuccess","setStorageSync","openSearch","clearInput","onInput","e","inputValue","detail","value","cancel","onSearch","val","searchValue","serchList","forEach","item","index","String","name","indexOf","add_new","navigateTo","url","tab_chat","redirectTo","close_mask","tab_setting","tab_notification","into_inform","into_groups","into_room","nameList","your","target","JSON","stringify","into_info","scrollToViewFn","that","_id","id","onPageScroll","scrollTop","height","reg","test","substring","initial","toUpperCase","sort","a","b","charCodeAt","someTtitle","someArr","newBrands","brandId","jid","lastObj","region","brands","newObj","number","j","createSelectorQuery","select","boundingClientRect","rect","newArry","concat","exec","obj","callback","keys","Object","split","$data","key2","$set"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,0F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmF;AAC3B;AACL;AACa;;;AAGhE;AAC0K;AAC1K,gBAAgB,4KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAo9B,CAAgB,65BAAG,EAAC,C;;;;;;;;;;;;wFCAx+B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,KAAK,GAAGC,mBAAO,CAAC,2BAAD,CAAP,CAA6B,SAA7B,CAAZ;AACA,IAAIC,IAAI,GAAGD,mBAAO,CAAC,+BAAD,CAAlB;AACA,IAAIE,WAAW,GAAG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","file":"pages/main/main.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/main/main.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=929259de&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('929259de', component.options)\n    } else {\n      api.reload('929259de', component.options)\n    }\n    module.hot.accept(\"./main.vue?vue&type=template&id=929259de&\", function () {\n      api.rerender('929259de', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/lr/Documents/work/webim-weixin-xcx-ectype_uni/pages/main/main.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=template&id=929259de&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nlet WebIM = require(\"../../utils/WebIM\")[\"default\"];\nlet disp = require(\"../../utils/broadcast\");\nlet systemReady = false;\nlet canPullDownreffesh = true;\nlet oHeight = [];\nimport swipeDelete from \"../../comps/swipedelete/swipedelete\";\n\nexport default {\n  data() {\n    return {\n      search_btn: true,\n      search_friend: false,\n      show_mask: false,\n      myName: \"\",\n      member: [],\n      messageNum: \"\",\n      //加好友申请数\n      unReadSpotNum: 0,\n      //未读消息数\n      unReadNoticeNum: 0,\n      //加群通知数\n      unReadTotalNotNum: 0,\n      //总通知数：加好友申请数 + 加群通知数\n      isActive: null,\n      listMain: [],\n      listTitles: [],\n      fixedTitle: null,\n      toView: 'inToView0',\n      oHeight: [],\n      scroolHeight: 0,\n      show_clear: false,\n      isHideLoadMore: true,\n      isIPX: false,\n      gotop: false,\n      input_code: \"\",\n      showFixedTitile: false\n    };\n  },\n\n  components: {\n    swipeDelete\n  },\n  props: {},\n\n  onLoad(option) {\n    const me = this;\n    // const app = getApp().globalData;\n    // new (getApp().globalData.ToastPannel.ToastPannel)(); //监听加好友申请\n\n     let app = getApp().globalData;\n\t\tnew app.ToastPannel.ToastPannel();\n\n    disp.on(\"em.xmpp.subscribe\", function () {\n      me.setData({\n        messageNum: getApp().globalData.saveFriendList.length,\n        unReadTotalNotNum: getApp().globalData.saveFriendList.length + getApp().globalData.saveGroupInvitedList.length\n      });\n    });\n    disp.on(\"em.xmpp.contacts.remove\", function (message) {\n      var pageStack = getCurrentPages();\n\n      if (pageStack[pageStack.length - 1].route === me.route) {\n        me.getRoster();\n      }\n    }); //监听未读“聊天”\n\n    disp.on(\"em.xmpp.unreadspot\", function () {\n      me.setData({\n        unReadSpotNum: getApp().globalData.unReadMessageNum > 99 ? '99+' : getApp().globalData.unReadMessageNum\n      });\n    }); //监听未读加群“通知”数\n\n    disp.on(\"em.xmpp.invite.joingroup\", function () {\n      me.setData({\n        unReadNoticeNum: getApp().globalData.saveGroupInvitedList.length,\n        unReadTotalNotNum: getApp().globalData.saveFriendList.length + getApp().globalData.saveGroupInvitedList.length\n      });\n    });\n    disp.on(\"em.xmpp.subscribed\", function () {\n      var pageStack = getCurrentPages();\n\n      if (pageStack[pageStack.length - 1].route === me.route) {\n        me.getRoster();\n      }\n    });\n    this.setData({\n      myName: option.myName\n    });\n  },\n\n  onShow() {\n    this.setData({\n      messageNum: getApp().globalData.saveFriendList.length,\n      unReadSpotNum: getApp().globalData.unReadMessageNum > 99 ? '99+' : getApp().globalData.unReadMessageNum,\n      unReadNoticeNum: getApp().globalData.saveGroupInvitedList.length,\n      unReadTotalNotNum: getApp().globalData.saveFriendList.length + getApp().globalData.saveGroupInvitedList.length\n    });\n\n    if (getApp().globalData.isIPX) {\n      this.setData({\n        isIPX: true\n      });\n    }\n\n    this.getRoster();\n  },\n\n  methods: {\n    getRoster() {\n      let me = this;\n      let rosters = {\n        success(roster) {\n          var member = [];\n\n          for (let i = 0; i < roster.length; i++) {\n            if (roster[i].subscription == \"both\") {\n              member.push(roster[i]);\n            }\n          }\n\n          wx.setStorage({\n            key: \"member\",\n            data: member\n          });\n          me.setData({\n            member: member\n          });\n\n          if (!systemReady) {\n            disp.fire(\"em.main.ready\");\n            systemReady = true;\n          }\n\n          me.getBrands(member);\n        },\n\n        error(err) {\n          console.log(\"[main:getRoster]\", err);\n        }\n\n      }; // WebIM.conn.setPresence()\n\n      WebIM.conn.getRoster(rosters);\n    },\n\n    moveFriend: function (message) {\n      let me = this;\n      let rosters = {\n        success: function (roster) {\n          var member = [];\n\n          for (let i = 0; i < roster.length; i++) {\n            if (roster[i].subscription == \"both\") {\n              member.push(roster[i]);\n            }\n          }\n\n          me.setData({\n            member: member\n          });\n        }\n      };\n\n      if (message.type == \"unsubscribe\" || message.type == \"unsubscribed\") {\n        WebIM.conn.removeRoster({\n          to: message.from,\n          success: function () {\n            WebIM.conn.unsubscribed({\n              to: message.from\n            });\n            WebIM.conn.getRoster(rosters);\n          }\n        });\n      }\n    },\n    handleFriendMsg: function (message) {\n      wx.showModal({\n        title: \"添加好友请求\",\n        content: message.from + \"请求加为好友\",\n        success: function (res) {\n          if (res.confirm == true) {\n            WebIM.conn.subscribed({\n              to: message.from,\n              message: \"[resp:true]\"\n            });\n            WebIM.conn.subscribe({\n              to: message.from,\n              message: \"[resp:true]\"\n            });\n          } else {\n            WebIM.conn.unsubscribed({\n              to: message.from,\n              message: \"rejectAddFriend\"\n            });\n          }\n        },\n        fail: function (err) {}\n      });\n    },\n    delete_friend: function (event) {\n      const me = this;\n      var delName = event.currentTarget.dataset.username;\n      var myName = wx.getStorageSync(\"myUsername\"); // 获取当前用户名\n\n      wx.showModal({\n        title: \"确认删除好友\" + delName,\n        cancelText: \"取消\",\n        confirmText: \"删除\",\n\n        success(res) {\n          if (res.confirm == true) {\n            WebIM.conn.removeRoster({\n              to: delName,\n              success: function () {\n                WebIM.conn.unsubscribed({\n                  to: delName\n                }); // wx.showToast({\n                // \ttitle: \"删除成功\",\n                // });\n\n                me.toastSuccess('删除成功'); // 删除好友后 同时清空会话\n\n                wx.setStorageSync(delName + myName, \"\");\n                wx.setStorageSync(\"rendered_\" + delName + myName, \"\");\n                me.getRoster();\n                disp.fire('em.main.deleteFriend');\n              },\n              error: function (error) {\n                me.toastSuccess('删除失败');\n              }\n            });\n          }\n        }\n\n      });\n    },\n    openSearch: function () {\n      this.setData({\n        search_btn: false,\n        search_friend: true,\n        show_mask: true,\n        gotop: true\n      });\n    },\n    clearInput: function () {\n      this.setData({\n        input_code: '',\n        show_clear: false\n      });\n    },\n    onInput: function (e) {\n      let inputValue = e.detail.value;\n\n      if (inputValue) {\n        this.setData({\n          show_clear: true\n        });\n      } else {\n        this.setData({\n          show_clear: false\n        });\n      }\n    },\n    cancel: function () {\n      this.setData({\n        search_btn: true,\n        search_friend: false,\n        gotop: false //show_mask: false\n\n      });\n      this.getBrands(this.member);\n    },\n    onSearch: function (val) {\n      let searchValue = val.detail.value;\n      let member = this.member;\n      let serchList = [];\n      member.forEach((item, index) => {\n        if (String(item.name).indexOf(searchValue) != -1) {\n          serchList.push(item);\n        }\n      });\n      this.getBrands(serchList);\n    },\n    add_new: function () {\n      wx.navigateTo({\n        url: \"../add_new/add_new\"\n      });\n    },\n    tab_chat: function () {\n      wx.redirectTo({\n        url: \"../chat/chat\"\n      });\n    },\n    close_mask: function () {\n      this.setData({\n        search_btn: true,\n        search_friend: false //show_mask: false\n\n      });\n    },\n    tab_setting: function () {\n      wx.redirectTo({\n        url: \"../setting/setting\"\n      });\n    },\n    tab_notification: function () {\n      wx.redirectTo({\n        url: \"../notification/notification\"\n      });\n    },\n    into_inform: function () {\n      wx.navigateTo({\n        url: \"../inform/inform?myName=\" + this.myName //wx.getStorageSync(\"myUsername\")\n\n      });\n    },\n    into_groups: function () {\n      wx.navigateTo({\n        url: \"../groups/groups?myName=\" + this.myName\n      });\n    },\n    into_room: function (event) {\n      var nameList = {\n        myName: this.myName,\n        your: event.target.dataset.username\n      };\n      wx.navigateTo({\n        url: \"../chatroom/chatroom?username=\" + JSON.stringify(nameList)\n      });\n    },\n    into_info: function (event) {\n      wx.navigateTo({\n        url: \"../friend_info/friend_info?yourname=\" + event.target.dataset.username\n      });\n    },\n    //点击右侧字母导航定位触发\n    scrollToViewFn: function (e) {\n      let that = this;\n      let _id = e.target.dataset.id;\n\n      for (let i = 0; i < that.listMain.length; ++i) {\n        if (that.listMain[i].id === _id) {\n          that.setData({\n            isActive: _id,\n            toView: 'inToView' + _id\n          });\n          break;\n        }\n      }\n    },\n    // 页面滑动时触发\n    onPageScroll: function (e) {\n      if (e.detail) {\n        // this.setData({\n        //   scroolHeight: e.detail.scrollTop\n        // });\n        if (e.detail.scrollTop > 149) {\n          this.setData({\n            showFixedTitile: true\n          });\n        } else {\n          this.setData({\n            showFixedTitile: false\n          });\n        }\n\n        for (let i in oHeight) {\n          if (e.detail.scrollTop - 149 < oHeight[i].height) {\n            this.setData({\n              isActive: oHeight[i].key,\n              fixedTitle: oHeight[i].name\n            });\n            return false;\n          }\n        }\n      }\n    },\n    // 处理数据格式，及获取分组高度\n    getBrands: function (member) {\n      const that = this;\n      const reg = /[a-z]/i; // member = [\n      // \t{\n      // \t\tgroups: [],\n      // \t\tjid: \"easemob-demo#chatdemoui_zdtest2@easemob.com\",\n      // \t\tname: \"adtest2\",\n      // \t\tsubscription:\"both\"\n      // \t}\n      // ]\n\n      member.forEach(item => {\n        if (reg.test(item.name.substring(0, 1))) {\n          item.initial = item.name.substring(0, 1).toUpperCase();\n        } else {\n          item.initial = '#';\n        }\n      });\n      member.sort((a, b) => a.initial.charCodeAt(0) - b.initial.charCodeAt(0));\n      var someTtitle = null;\n      var someArr = [];\n\n      for (var i = 0; i < member.length; i++) {\n        var newBrands = {\n          brandId: member[i].jid,\n          name: member[i].name\n        };\n\n        if (member[i].initial == '#') {\n          if (!lastObj) {\n            var lastObj = {\n              id: i,\n              region: '#',\n              brands: []\n            };\n          }\n\n          lastObj.brands.push(newBrands);\n        } else {\n          if (member[i].initial != someTtitle) {\n            someTtitle = member[i].initial;\n            var newObj = {\n              id: i,\n              region: someTtitle,\n              brands: []\n            };\n            someArr.push(newObj);\n          }\n\n          newObj.brands.push(newBrands);\n        }\n      }\n\n      ;\n      someArr.sort((a, b) => a.region.charCodeAt(0) - b.region.charCodeAt(0));\n\n      if (lastObj) {\n        someArr.push(lastObj);\n      } //  someArr = [\n      // \t{\n      //         id: \"1\", region: \"A\",\n      //         brands: [\n      //           \t{ brandId: \"..\", name: \"阿明\" },\n      //           \t{ brandId: \"..\", name: \"奥特曼\" },\n      //           \t{ brandId: \"..\", name: \"安庆\" },\n      //           \t{ brandId: \"..\", name: \"阿曼\" }\n      //         ]\n      //     },\n      // ]\n      //赋值给列表值\n\n\n      that.setData({\n        listMain: someArr\n      }); //赋值给当前高亮的isActive\n\n      that.setData({\n        isActive: someArr[0].id,\n        fixedTitle: someArr[0].region\n      }); //计算分组高度,wx.createSelectotQuery()获取节点信息\n\n      let number = 0;\n\n      for (let j = 0; j < someArr.length; ++j) {\n        wx.createSelectorQuery().select('#inToView' + someArr[j].id).boundingClientRect(function (rect) {\n          number = rect.height + number;\n          var newArry = [{\n            'height': number,\n            'key': rect.dataset.id,\n            \"name\": someArr[j].region\n          }]; //that.setData({\n\n          oHeight = oHeight.concat(newArry); //})\n        }).exec();\n      }\n\n      ;\n    },\n    setData: function (obj, callback) {\n      let that = this;\n      let keys = [];\n      let val, data;\n      Object.keys(obj).forEach(function (key) {\n        keys = key.split('.');\n        val = obj[key];\n        data = that.$data;\n        keys.forEach(function (key2, index) {\n          if (index + 1 == keys.length) {\n            that.$set(data, key2, val);\n          } else {\n            if (!data[key2]) {\n              that.$set(data, key2, {});\n            }\n          }\n\n          data = data[key2];\n        });\n      });\n      callback && callback();\n    }\n  }\n};\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}